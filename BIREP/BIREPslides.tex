\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usetheme{Copenhagen}
%\usepackage[spanish]{babel}
\usepackage{multirow}
%\usepackage{estilo-apuntes}
\usepackage{braids}
\usepackage[]{graphicx}
\usepackage{rotating}
\usepackage{pgf,tikz}
\usepackage{pgfplots}
\usepackage{tikz-cd}
%\usepackage{empheq}
%\usepackage[dvipsnames]{xcolor}
\usepackage{xcolor}

\usetikzlibrary{arrows}
\usetikzlibrary{cd}
\usetikzlibrary{babel}
\pgfplotsset{compat=1.13}
\usetikzlibrary{decorations.shapes}
\pgfkeyssetvalue{/tikz/braid height}{1cm} %no parece hacer nada
\pgfkeyssetvalue{/tikz/braid width}{1cm}
\pgfkeyssetvalue{/tikz/braid start}{(0,0)}
\pgfkeyssetvalue{/tikz/braid colour}{black}

\theoremstyle{definition}

\newtheorem{teorema}{Theorem}
\newtheorem{defi}{Definition}
\newtheorem{prop}[teorema]{Proposition}

\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\CC}{\mathcal{C}}
\newcommand{\D}{\mathbb{D}}
\providecommand{\gene}[1]{\langle{#1}\rangle}

\DeclareMathOperator{\im}{im}


\addtobeamertemplate{navigation symbols}{}{%
    \usebeamerfont{footline}%
    \usebeamercolor[fg]{footline}%
    \hspace{1em}%
    %\insertframenumber/\inserttotalframenumber
}
\setbeamercolor{footline}{fg=black}
\setbeamerfont{footline}{series=\bfseries}

\newcommand{\highlight}[1]{%
	\colorbox{red!50}{$\displaystyle#1$}}

\makeatletter
\newcommand*{\encircled}[1]{\relax\ifmmode\mathpalette\@encircled@math{#1}\else\@encircled{#1}\fi}
\newcommand*{\@encircled@math}[2]{\@encircled{$\m@th#1#2$}}
\newcommand*{\@encircled}[1]{%
	\tikz[baseline,anchor=base]{\node[draw,circle,outer sep=0pt,inner sep=.2ex] {#1};}}
\makeatother

\expandafter\def\expandafter\insertshorttitle\expandafter{%
  \insertshorttitle\hfill%
  \insertframenumber\,/\,\inserttotalframenumber}

%-----------------------------------------------------------

\title{Clustering with ToMATo}
\author{Javier Aguilar Mart\'in}
\institute{University of Kent}
\date{}
 
\begin{document}
\frame{\titlepage}




\setbeamercovered{highly dynamic}

\newcounter{saveenumi}
\newcommand{\seti}{\setcounter{saveenumi}{\value{enumi}}}
\newcommand{\conti}{\setcounter{enumi}{\value{saveenumi}}}

\makeatletter
\newcommand{\xRightarrow}[2][]{\ext@arrow 0359\Rightarrowfill@{#1}{#2}}
\makeatother

\resetcounteronoverlays{saveenumi}



\section{Clustering}



\begin{frame}
\frametitle{clustering}
\begin{itemize}
\item \textbf{Clustering} is the task of grouping a set of objects in such a way that objects in the same group (called a cluster) are more similar (in some sense) to each other than to those in other groups (clusters). %typically by distance %it is an ill posed problem in general

\begin{figure}
\includegraphics[scale=0.5]{cluster}
\end{figure}
\end{itemize}
\end{frame}

\subsection{Classical methods}
\begin{frame}
\begin{itemize}
\frametitle{}
\item \textbf{Density clustering}: assume that data points are drawn from
some unknown density function $f$. Thresholding the density at some fixed level $\alpha$, then treating the connected components
of the superlevel-set $F^{\alpha} = f^{-1}([\alpha,+\infty))$ as clusters and the rest of the data as noise. %density must be estimated, we will estudy how the superlevel-sets evolve with alpha
\item \textbf{Mode-seeking}: detecting local peaks of $f$ in order to use them as cluster centers and partition the data according to their
\emph{basins of attraction}. %essentialy the points that are attracted follwing the gradient to the local peak 
\end{itemize}
\end{frame}

\begin{frame}
\begin{figure}
\includegraphics[scale=0.5]{basin}
\caption{Basin of attraction}
\end{figure}
\end{frame}

\subsection{Topologicla persistence}
\begin{frame}
\begin{itemize}
\item \textbf{Topological persistence}: Study the topology of the superlevel-sets $F^{\alpha} = f^{-1}([\alpha,+\infty))$ as $\alpha$ ranges from $+\infty$ to $-\infty$ to estimate the \emph{prominence} of the density peaks. %alpha goes backwards  %prominence is the lifespan of connected components
\begin{figure}
\includegraphics[scale=0.6]{density}
\caption{(a) original density and its superlevel-sets; (b) a
piecewise-linear approximation $\tilde{f}$ of $f$; (c) superimposition of the PDs of $f$ (red) and $\tilde{f}$ (blue).} %components are created and die %prominent peaks are matched %the peaks tells us that the clusters are the basins of attraction %the density just means that there are more points concentrated near the pics
\end{figure}
\end{itemize}
\end{frame}

\section{ToMATo}
\subsection{Continuous setting}
\begin{frame}[fragile]
\frametitle{Continuous setting}
\begin{itemize}
\item<1-> Let $X$ be a $n$-dimensional Riemannian Mannifold without boundary and $f:X\to\R$ a bounded above and proper Morse function with finitely many critical points.
\item<2-> Let $m$ be a critical point of $f$. The \textbf{ascending region} $A(m)$ is the set of points of $X$ that eventually reach $m$ moving along the gradient flow of $f$. For all $x\in A(m)$ we call $m=r(x)$ the \textbf{root} of $x$.

\item<3-> For $\alpha\in\R$ let $F^\alpha=f^{-1}([\alpha,+\infty))$ be a superlevel-set. The family $\{F^\alpha\}_{\alpha\in\R}$ is called the \textbf{superlevel-set filtration} of $f$. Denote $C(x,\alpha)\subseteq F^\alpha$ the path-connected component of $F^\alpha$ containing $x$. %consider alpha varying from +infty to -infty
\end{itemize}
\end{frame}

\begin{frame}
\begin{itemize}
\item<1-> Let $m_p$ be a peak of $f$ generating a component at time $p_x=f(m_p)$. Let $p_y\leq p_x$ be the time at which this component merges another component generated by a peak $m_q$. %The reason for the notation is the coordinates in persistence diagram
\item<2->We call $m_q=r(m_p)$ the \textbf{root} of $m_p$ and we say that $m_p$ is \textbf{$(p_x-p_y)$-prominent} or that the \textbf{prominence} of $m_p$ is $p_x-p_y\geq 0$.
\item<3-> Let $\tau\geq 0$. Iterate the root map $m_q\to r(m_q)$ until a peak of prominence $\tau$ is reached. Call this iterated root $r^*_\tau$.
\end{itemize}
\end{frame}
\begin{frame}
\frametitle{Basins of attraction}
\begin{itemize}
\item<1-> The union of the ascending regions of the peaks mapped to $m_p$ through $r^*_\tau$ is referred to as the \textbf{basin of attraction}.
\item<2-> $\forall m_p$ such that $p_x - py \geq\tau$
\[B_\tau(m_p)=\bigcup_{r^*_\tau(m_q)=m_p} A(m_q)\]
\item<3->[]The basins of attraction form a partition of the union of all ascending
regions. These basins are our target clusters.
\end{itemize}

\end{frame}

\subsection{Discrete settibng}
\begin{frame}
\frametitle{Discrete setting}
INPUT, ALGORITHM WITH EXPLANATION, OUTPUT (MAYBE JUST WRITE DOWN THE ALGORITHM AND EXPLAIN IT IN WORDS, BUT MAKE SURE THE TWO PHASES ARE CLEARLY DISTINGUISHABLE) MAYBE PSEUDOCODE IMPLEMENTATION AS EXERCISE BUT IT'S LITERALLY ON THE PAPER
COMPLEXITY
\end{frame}

\section{Parameter selection}
\begin{frame}
\frametitle{Parameter selection}
VIETORIS RIPS MAINLY BECAUSE THERE ARE THEORETICAL RESULTS (EXPLAINED LATER)
NOT MUCH ABOUT DENSITY ESTIMATION
PROMINENCE PARAMETER: RUN TWICE AND OBSERVE PD (IT IS MENTIONED EARLIER IN THE PAPER BUT BETTER SAY JUST HERE)
\end{frame}

\section{Theoretical guarantees}
\begin{frame}
\frametitle{Theoretical guarantees}
THE NON-TECHNICAL SECTION, IF THERE'S TIME GO MORE TECHNICAL AND USE THE NON-TECHNICAL AS EXPLANATION (MULTI-BIJECTIONS, INTERLEAVING DIAGRAMS -NO NEED TO DEFINE THEM, IT'S ON OTHER TOPICS, BUT INCLUDE A SLIDE JUST IN CASE)
THE 4 POINTS OF SECTION 7 (NEED TO INCLUDE ASSUMPITON ON F AND ON THE MANIFOLD), THEOREM 7.2 (THIS IS RELATED TO THE QUARTERS) MAYBE MENTION THE TEXT BEFORE 7.3
THEOREM 8.2 WITH FIG15 LEFT
EXPLAIN THE DIFFERENT QUARTERS ACCORDING TO ALPHA
USE DEF 9.1 FOR SEPARATED WITH 16 AND THM 9.2
THM 10.1 WITH EXPLANATION BELOW
\end{frame}

\section{Experimental results}
\begin{frame}
\frametitle{Experimental results}
THE RINGS FOR HIGH DIMENSIONAL STUFF AND IMAGE SEGMENTATION WITHOUT THE WEIRD BARS
\end{frame}



\end{document}
